"use strict";(self.webpackChunkdashboard_hosting=self.webpackChunkdashboard_hosting||[]).push([[592],{9230:(g,p,r)=>{r.d(p,{a:()=>l});var o=r(2340),m=r(5e3),i=r(7152),a=r(2520);let l=(()=>{class d{constructor(f,A){this.router=f,this.authenticationService=A}canActivate(f,A){const u=this.authenticationService.currentUserValue,P=new Date;if(u&&u.createdTime+u.expiresIn>Math.round(P.getTime()/1e3)&&1==u.status){if(u.createdTime+u.expiresIn-o.N.jwt.timeRefresh<Math.round(P.getTime()/1e3)){let v={id:u.id,accessToken:u.accessToken,refreshToken:u.refreshToken,username:u.username};return!!new Promise((e,s)=>{this.authenticationService.refreshToken(v).subscribe(t=>{1==t?e(!0):s(!1)})})||(this.authenticationService.logout(),!1)}return!0}return u&&this.authenticationService.logout(),this.authenticationService.logout(),!1}}return d.\u0275fac=function(f){return new(f||d)(m.LFG(i.F0),m.LFG(a.$))},d.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},1468:(g,p,r)=>{r.d(p,{A:()=>o});class o{constructor(i){var a,l,d;this.id="",this.port="",this.description="",this.status=null,this.server=null,this.serverName=null,this.createdat="",this.updatedat="",this.id=String(i.id)||"",this.port=i.port||"",this.description=i.description||"",this.status=null!==(a=String(i.status))&&void 0!==a?a:null,this.server=null!==(l=String(i.server))&&void 0!==l?l:null,this.serverName=null!==(d=String(i.serverName))&&void 0!==d?d:"",this.createdat=i.createdAt||"",this.updatedat=i.updatedAt||""}}},4127:(g,p,r)=>{r.d(p,{Y:()=>o});class o{constructor(i){var a;this.id="",this.name="",this.description="",this.status=null,this.createdAt="",this.updatedAt="",this.id=String(i.id)||"",this.name=i.name||"",this.description=i.description||"",this.status=null!==(a=String(i.status))&&void 0!==a?a:null,this.createdAt=i.createdAt||"",this.updatedAt=i.updatedAt||""}}},6223:(g,p,r)=>{r.d(p,{W:()=>o});class o{constructor(i){var a,l;this.id="",this.name="",this.description="",this.server=null,this.status=null,this.createdAt="",this.updatedAt="",this.nameServer="",this.id=String(i.id)||"",this.name=i.name||"",this.description=i.description||"",this.server=null!==(a=String(i.server))&&void 0!==a?a:null,this.status=null!==(l=String(i.status))&&void 0!==l?l:null,this.nameServer=i.nameServer||"",this.createdAt=i.createdAt||"",this.updatedAt=i.updatedAt||""}}},9873:(g,p,r)=>{r.d(p,{o:()=>T});var o=r(4004),m=r(2340),i=r(1468),a=r(4127),l=r(6223);class d{constructor(c){var e;this.id="",this.name="",this.status=null,this.createdat="",this.updatedat="",this.id=String(c.id)||"",this.name=c.name||"",this.status=null!==(e=String(c.status))&&void 0!==e?e:null,this.createdat=c.createdAt||"",this.updatedat=c.updatedAt||""}}class E{constructor(c){var e;this.id="",this.name="",this.status=null,this.createdat="",this.updatedat="",this.id=String(c.id)||"",this.name=c.name||"",this.status=null!==(e=String(c.status))&&void 0!==e?e:null,this.createdat=c.createdAt||"",this.updatedat=c.updatedAt||""}}var f=r(5e3),A=r(520),u=r(9286),P=r(7152);let T=(()=>{class v{constructor(e,s,t){this.http=e,this.apiService=s,this.router=t,this.apiServerPaths=m.N.apiServer.paths}selectSearch(e){let s={params:{},headers:{"Content-Type":"application/json; charset=utf-8"}};for(const t in e)s.params[t]=e[t];return this.apiService.get(this.apiServerPaths.search.getList,s,(0,o.U)(t=>{let n=[];if(1==t.status&&200==t.code&&t.data)if("vlan"==e.type)t.data.forEach(h=>{n.push(new a.Y(h))});else if("port"==e.type)t.data.forEach(h=>{n.push(new a.Y(h))});else if("hosting"==e.type){let h={port:[],server:[],vlan:[]};return t.data.port&&t.data.port.forEach(S=>{h.port.push(new i.A(S))}),t.data.server&&t.data.server.forEach(S=>{h.server.push(new a.Y(S))}),t.data.vlan&&t.data.vlan.forEach(S=>{h.vlan.push(new l.W(S))}),h}return n}))}listServer(e){let s={params:{},headers:{"Content-Type":"application/json; charset=utf-8"}};for(const t in e)s.params[t]=e[t];return this.apiService.get(this.apiServerPaths.search.listServer,s,(0,o.U)(t=>{let n=[];return 1==t.status&&200==t.code&&t.data&&t.data.forEach(h=>{n.push(new a.Y(h))}),n}))}listVlan(e){let s={params:{},headers:{"Content-Type":"application/json; charset=utf-8"}};for(const t in e)s.params[t]=e[t];return this.apiService.get(this.apiServerPaths.search.listVlan,s,(0,o.U)(t=>{let n=[];return 1==t.status&&200==t.code&&t.data&&t.data.forEach(h=>{n.push(new l.W(h))}),n}))}listPort(e){let s={params:{},headers:{"Content-Type":"application/json; charset=utf-8"}};for(const t in e)s.params[t]=e[t];return this.apiService.get(this.apiServerPaths.search.listPort,s,(0,o.U)(t=>{let n=[];return 1==t.status&&200==t.code&&t.data&&t.data.forEach(h=>{n.push(new i.A(h))}),n}))}listRole(e){let s={params:{},headers:{"Content-Type":"application/json; charset=utf-8"}};for(const t in e)s.params[t]=e[t];return this.apiService.get(this.apiServerPaths.search.listRole,s,(0,o.U)(t=>{let n=[];return 1==t.status&&200==t.code&&t.data&&t.data.forEach(h=>{n.push(new d(h))}),n}))}listPosition(e){let s={params:{},headers:{"Content-Type":"application/json; charset=utf-8"}};for(const t in e)s.params[t]=e[t];return this.apiService.get(this.apiServerPaths.search.listRole,s,(0,o.U)(t=>{console.log(t);let n=[];return 1==t.status&&200==t.code&&t.data&&t.data.forEach(h=>{n.push(new E(h))}),n}))}}return v.\u0275fac=function(e){return new(e||v)(f.LFG(A.eN),f.LFG(u.s),f.LFG(P.F0))},v.\u0275prov=f.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()}}]);